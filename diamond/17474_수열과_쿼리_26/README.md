ì„¸ê·¸íŠ¸ë¦¬ ìµœì í™” ë¬¸ì œ í’€ì´ ì‚¬ê³ ë°©ì‹ ì •ë¦¬

âœ… ë¬¸ì œ ìœ í˜•

ì£¼ì–´ì§„ ìˆ˜ì—´ì—ì„œ ë‹¤ìŒ 3ê°€ì§€ ì¿¼ë¦¬ë¥¼ ë°˜ë³µì ìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼ í•œë‹¤:

range-chmin: ì£¼ì–´ì§„ êµ¬ê°„ì—ì„œ ì›ì†Œë“¤ì„ íŠ¹ì • ê°’ X ì´í•˜ë¡œ ì¤„ì´ê¸°

range-max: êµ¬ê°„ì˜ ìµœëŒ“ê°’ êµ¬í•˜ê¸°

range-sum: êµ¬ê°„ì˜ ì´í•© êµ¬í•˜ê¸°

ë‹¨ìˆœí•œ lazy propagationë§Œìœ¼ë¡œëŠ” range-chmin ìµœì í™”ê°€ ì–´ë ¤ì›Œ Segment Tree Beats ê¸°ë²• í•„ìš”

ğŸ§  ì‚¬ê³ ë°©ì‹ ìš”ì•½

1. ì •ë³´ ì„¤ê³„ (struct Node)

ê° ë…¸ë“œì—ëŠ” ë‹¤ìŒ ê°’ë“¤ì„ ì €ì¥í•´ì•¼ í•œë‹¤:

max: êµ¬ê°„ì˜ ìµœëŒ“ê°’ (ìµœëŒ“ê°’ ìì²´)

maxCount: maxê°€ ë“±ì¥í•˜ëŠ” ê°œìˆ˜

secondMax: ë‘ ë²ˆì§¸ë¡œ í° ê°’ (ìµœëŒ“ê°’ ì œì™¸í•œ ìµœëŒ“ê°’)

sum: êµ¬ê°„ í•©

lazy: chmin ì—°ì‚°ì„ ì§€ì—°ì‹œí‚¬ ê°’ (ì—†ìœ¼ë©´ -1)

2. ë¶ˆë³€ì‹ ìœ ì§€

í•­ìƒ ë‹¤ìŒ ì¡°ê±´ì´ ìœ ì§€ë˜ì–´ì•¼ í•¨:

max > secondMax

sum ì€ ì •í™•í•œ í•©ê³„

merge(a, b) í•¨ìˆ˜ëŠ” í•­ìƒ ìœ„ ì¡°ê±´ì„ ë§Œì¡±í•˜ë„ë¡ êµ¬í˜„

3. ì¿¼ë¦¬ ì²˜ë¦¬ ì „ëµ

firstQuery (range-chmin):

ì„¸ ê°€ì§€ ë¶„ê¸°ë¡œ ë‚˜ë‰œë‹¤:

minNum >= max: ì•„ë¬´ ì¼ë„ í•˜ì§€ ì•ŠìŒ

minNum > secondMax: ì´ ë…¸ë“œì—ì„œ í•œ ë²ˆì— ì˜ë¼ë²„ë¦´ ìˆ˜ ìˆìŒ â†’ apply_chmin

minNum <= secondMax: ìì‹ ë…¸ë“œë¡œ ë‚´ë ¤ê°€ì•¼ í•¨ â†’ pushDown, ì¬ê·€ í˜¸ì¶œ

secondQuery (range-max):

lazy ì „íŒŒ í›„ ìì‹ ë‘˜ì—ì„œ max ë°›ì•„ì„œ ë¹„êµ

thirdQuery (range-sum):

lazy ì „íŒŒ í›„ ìì‹ ë‘˜ì˜ sum í•©

4. lazy ì „íŒŒ êµ¬ì¡°

apply_chmin(Node& n, int x)

x < n.maxì¼ ë•Œë§Œ ì ìš©

sum ë³´ì •, max ë³€ê²½, lazy ì €ì¥

pushDown(idx)

lazy ê°’ì„ ìì‹ ë…¸ë“œì— í˜ë ¤ë³´ë‚´ê³  í˜„ì¬ ë…¸ë“œì˜ lazyë¥¼ ì œê±°

5. ë””ë²„ê¹… ê¸°ì¤€

max == secondMax ìƒíƒœê°€ ë˜ë©´ ì„¸ê·¸íŠ¸ë¦¬ ë¹„íŠ¸ì˜ ì „ì œ ì¡°ê±´ì´ ê¹¨ì§€ë¯€ë¡œ ë°˜ë“œì‹œ ë°©ì§€í•´ì•¼ í•¨

ìì‹ ë…¸ë“œë¥¼ ì§ì ‘ ìˆ˜ì •í•˜ì§€ ì•Šê³ , í•­ìƒ merge()ë¡œ ë¶€ëª¨ ë…¸ë“œ ê°’ì„ ê°±ì‹ í•´ì•¼ í•¨

âœ… ì„±ì¥ í¬ì¸íŠ¸

ì›ë˜ëŠ” updateTreeë¥¼ ë°˜ë³µí•´ì„œ ì“°ë©´ì„œ ë¶€ëª¨ê°’ì„ ê°±ì‹ í–ˆì§€ë§Œ, ì´ ë°©ì‹ì€ ì˜¤ë¥˜ê°€ ìƒê¸°ê¸° ì‰¬ì›€

merge í•¨ìˆ˜ ë„ì… í›„ë¶€í„°ëŠ” ì½”ë“œë„ ì§§ì•„ì§€ê³  ì˜¤ë¥˜ë„ ì¤„ì—ˆìŒ

pushDownì„ í†µí•´ lazy ê°’ì´ ì œëŒ€ë¡œ ì „íŒŒë˜ì–´ì•¼ ì „ì²´ ì¿¼ë¦¬ ì •í™•ë„ê°€ ìœ ì§€ë¨

ğŸ”š í˜„ì¬ ìƒíƒœ ìš”ì•½

ì„¸ê·¸íŠ¸ë¦¬ ë¹„íŠ¸ êµ¬í˜„ ì„±ê³µ âœ…

ì‹¤ì „ ë¬¸ì œë„ AC âœ…

í•˜ì§€ë§Œ ì´ ë°©ì‹ì€ ë‚´ê°€ ì™„ì „íˆ í˜¼ì ìƒê°í•´ë‚¸ ê±´ ì•„ë‹˜ ğŸ˜“

GPTì˜ ë„ì›€ ì—†ì´ í’€ì—ˆìœ¼ë©´ ì•„ë§ˆ secondMaxë‚˜ lazy ë¶„ê¸°ì—ì„œ í‹€ë ¸ì„ í™•ë¥ ì´ ë†’ì•˜ìŒ

ğŸ“Œ ë”°ë¼ì„œ ì§€ê¸ˆì€ êµ¬í˜„ íŒ¨í„´ì„ ë³µìŠµí•˜ê³ , ë‹¤ìŒë²ˆì—” ë‚´ê°€ ì§ì ‘ ì¡°ê±´ ë¶„ê¸°ë¥¼ êµ¬ì„±í•˜ëŠ” í›ˆë ¨ì´ í•„ìš”í•¨.

