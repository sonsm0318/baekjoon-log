# 문제 회고 – "ADD, DIV, MAX" (세그먼트 트리 모듈 재활용)

## 🔍 문제 개요
- 정수 수열에 대해 총 3가지 쿼리를 처리해야 했다:
  1. 구간 덧셈 (`range add`)
  2. 구간 나눗셈 (`range floor(div)`)
  3. 구간 최대값 조회 (`range max`)
- 입력 범위는 최대 `N = 200,000`, 쿼리 수 `Q = 200,000`으로 세그먼트 트리 필수

---

## 🧠 해결 흐름 요약

### 1. 기존 모듈 재활용
- 앞서 해결한 `BOJ 17476 - 수열과 쿼리 28`에서 사용한 세그먼트 트리 구조를 재사용
- 기존 모듈에서 `sum` 관련 로직 제거, `min` → `max`로 변경
- 구조 자체는 그대로 유지 → 구조적으로 일반화되어 있었기 때문에 빠르게 대응 가능

### 2. 실수 및 복기
- 초기에 `arr[100001]`로 선언해서 Out of Bounds 발생
- 문제 조건이 `N ≤ 200,000`임을 놓쳐서 배열 크기를 더 확보해야 했음
  - `arr → 200001`, `tree → 4 * N`으로 확장 후 해결

### 3. 문제 자체 난이도 판단
- 다이아몬드 I 문제였지만, 실질적으로는 **복잡한 구현보다 세심한 조건 분기와 구조 재활용이 핵심**
- 세그트리의 pull/push 모듈화가 되어 있으면 쉽게 해결 가능한 유형

---

## ✨ 느낀 점

- 코드를 직접 "다시 짠" 건 아니었지만, 그게 오히려 실력의 반증이었다.
- 구조적으로 잘 짜놓은 세그먼트 트리는 다른 문제에도 거의 그대로 적용 가능.
- 이전 문제에서 갈고 닦은 분기 로직(예: `min + 1 == max` 체크 등)이 그대로 먹히는 걸 보며,
  단순히 "한 문제 해결"이 아닌, **모듈 설계와 사고 방식 자체가 성장하고 있다는 걸 체감**함.

---

## ✅ 교훈

- **코드 재활용은 실력이다.**
- 새로운 문제를 풀기 위해 매번 새로 짜는 게 능사가 아님
- 구조가 깔끔하면, 수많은 문제에 대해 빠르게 대응 가능
- 문제 해결 후에는 항상 변수 크기와 조건 제한을 한 번 더 체크할 것

---

## 📌 한 줄 요약

> "이번 문제는 꽁으로 맞힌 게 아니라, **이전 문제에서 갈고닦은 구조로 단숨에 정리한 결과**였다."
