# 문제 회고 – "구간 합 구하기 2" (플래티넘 IV)

## 🧠 문제 요약
- 구간에 수를 더하는 `range add` 연산과, 특정 구간의 합을 구하는 `range sum` 연산을 반복 처리하는 세그먼트 트리 문제.
- Lazy propagation이 핵심이며, 시간 복잡도는 O(log N) * (M + K)로 통과 조건 만족 가능.

---

## 🚧 문제 상황

- 모든 로직을 세그먼트 트리 + lazy propagation으로 정확히 구현함.
- 실제 제출 결과는 **틀렸습니다(오답)** 였고, 원인을 파악하는 데 시간이 소요됨.

---

## 🔍 원인 분석

### ❗ 핵심 실수: `arr` 배열을 `int`로 선언

- 문제는 입력 범위가 `−2^63 ≤ x ≤ 2^63−1`로 **long long 범위**를 요구했음.
- 그러나 `arr` 배열을 `int`로 선언해버려서,  
  특정 테스트 케이스에서 **int 오버플로우 발생 → 틀린 합 결과 출력**
- `sum`, `lazy` 모두 `long long`으로 처리했기 때문에 디버깅이 더욱 어려웠음

---

## ✅ 교훈

1. **문제 조건에 "2^63"이 보이면 → 무조건 `long long` 써라**
2. 세그먼트 트리에서는 **모든 저장소(arr, sum, lazy)**가 같은 자료형이어야 한다.
3. 오답이 "딱히 틀릴 이유가 없을 때"는 **입력 범위나 자료형 의심이 우선이다.**

---

## ✨ 이번 경험에서 얻은 것

- "코드는 완벽해도, 타입 하나 잘못 쓰면 끝"이라는 걸 다시금 깨달음.
- 앞으로 문제 풀기 전에 **자료형부터 체크하는 루틴을 먼저 둬야겠다고 다짐**함.
- 어쩌면 이건 시간 절약용
